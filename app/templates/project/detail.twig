{% extends "base-content.twig" %}

{% block title %}Citadela Mefisto{% endblock %}
{% block content %}
  <div class="container">
    <div class="row row-filling-big">
    </div>
    <div class="row project-detail">
      <div class="col-sm-4 project-data">
        <table>
          <tbody>
            {% if project.getName() %}
            <tr>
              <th>{{ 'projektNazev'|trans|upper }}</th>
              <td>{{ project.getName() }}</td>
            </tr>
            {% endif %}
            {% if project.getTypology() %}
            <tr>
              <th>{{ 'projektTypologie'|trans|upper }}</th>
              <td>{{ project.getTypology() }}</td>
            </tr>
            {% endif %}
            {% if project.getPlace() %}
            <tr>
              <th>{{ 'projektMisto'|trans|upper }}</th>
              <td>{{ project.getPlace() }}</td>
            </tr>
            {% endif %}
            {% if project.getAuthors() is not empty %}
            <tr>
              <th>{{ 'projektAutori'|trans|upper }}</th>
              <td>{{ project.getAuthors()|join(', ') }}</td>
            </tr>
            {% endif %}
            {% if project.getCooperation() is not empty %}
            <tr>
              <th>{{ 'projektSpoluprace'|trans|upper }}</th>
              <td>{{ project.getCooperation()|join(', ') }}</td>
            </tr>
            {% endif %}
            {% if project.getStudy() %}
            <tr>
              <th>{{ 'projektStudie'|trans|upper }}</th>
              <td>{{ project.getStudy() }}</td>
            </tr>
            {% endif %}
            {% if project.getRealization() %}
            <tr>
              <th>{{ 'projektRealizace'|trans|upper }}</th>
              <td>{{ project.getRealization() }}</td>
            </tr>
            {% endif %}
            {% if project.getCompetition() %}
            <tr>
              <th>{{ 'projektSoutez'|trans|upper }}</th>
              <td>{{ project.getCompetition() }}</td>
            </tr>
            {% endif %}
            {% if project.getPublication() %}
            <tr>
              <th>{{ 'projektPublikace'|trans|upper }}</th>
              <td>{{ project.getPublication() }}</td>
            </tr>
            {% endif %}
          </tbody>
        </table>
      </div>
      <div class="col-sm-8 project-images">
        <div class="row hidden-xs">
          <div class="col-sm-11">
            <div class="col-sm-12" id="slider">
              <div class="row no-gutter">
                <div class="col-sm-12" id="carousel-bounding-box">
                  <div class="carousel slide" id="project-detail-carousel">
                    <div class="carousel-inner" role="listbox">
                      <div class="item active">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=0">
                      </div>
                      <div class="item" data-slide-number="1">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=1">
                      </div>
                      <div class="item" data-slide-number="2">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=2">
                      </div>
                      <div class="item" data-slide-number="3">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=3">
                      </div>
                      <div class="item" data-slide-number="4">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=4">
                      </div>
                      <div class="item" data-slide-number="5">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=5">
                      </div>
                      <div class="item" data-slide-number="6">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=6">
                      </div>
                      <div class="item" data-slide-number="7">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=7">
                      </div>
                      <div class="item" data-slide-number="8">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=8">
                      </div>
                      <div class="item" data-slide-number="9">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=9">
                      </div>
                      <div class="item" data-slide-number="10">
                        <img class="img-responsive" src="http://placehold.it/887x600&text=10">
                      </div>
                    </div>
                    <a class="left carousel-control" href="#project-detail-carousel" role="button" data-slide="prev">
                      <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#project-detail-carousel" role="button" data-slide="next">
                      <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-1" id="slider-thumbs">
            <div class="row no-gutter project-detail-thumbnails">
              <div class="col-sm-12">
                <a class="thumbnail active-thumbnail" id="carousel-selector-0"><img class="img-responsive" src="http://placehold.it/150x150&text=0"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-1"><img class="img-responsive" src="http://placehold.it/150x150&text=1"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-2"><img class="img-responsive" src="http://placehold.it/150x150&text=2"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-3"><img class="img-responsive" src="http://placehold.it/150x150&text=3"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-4"><img class="img-responsive" src="http://placehold.it/150x150&text=4"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-5"><img class="img-responsive" src="http://placehold.it/150x150&text=5"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-6"><img class="img-responsive" src="http://placehold.it/150x150&text=6"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-7"><img class="img-responsive" src="http://placehold.it/150x150&text=7"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-8"><img class="img-responsive" src="http://placehold.it/150x150&text=8"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-9"><img class="img-responsive" src="http://placehold.it/150x150&text=9"></a>
              </div>
              <div class="col-sm-12">
                <a class="thumbnail" id="carousel-selector-10"><img class="img-responsive" src="http://placehold.it/150x150&text=10"></a>
              </div>
            </div>
          </div>
        </div>
        <br>
        <div class="row visible-xs">
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=0">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=1">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=2">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=3">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=4">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=5">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=6">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=7">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=8">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=9">
          </div>
          <div class="col-xs-12">
            <img class="img-responsive" src="http://placehold.it/887x600&text=10">
          </div>
        </div>
      </div>
    </div>
  </div>

{% endblock %}
{% block bodyend %}
  <script type="text/javascript">
    jQuery(document).ready(function ($) {

      $('#project-detail-carousel').carousel({
        interval: false
      });

      //Handles the carousel thumbnails
      $('[id^=carousel-selector-]').click(function () {
        var id_selector = $(this).attr("id");
        try {
          var id = /-(\d+)$/.exec(id_selector)[1];
          jQuery('#project-detail-carousel').carousel(parseInt(id));
          moveActiveThumbnail(id);
        } catch (e) {
          console.log('Regex failed!', e);
        }
      });
      // When the carousel slides, auto update the text
      $('#project-detail-carousel').on('slid.bs.carousel', function (e) {
        var id = $('.item.active').data('slide-number');
        $('#carousel-text').html($('#slide-content-' + id).html());
        moveActiveThumbnail(id);
      });

      function moveActiveThumbnail(id) {
        jQuery('a.active-thumbnail').removeClass('active-thumbnail');
        jQuery('#carousel-selector-' + id).addClass('active-thumbnail');
      }
    });
  </script>
{% endblock %}

